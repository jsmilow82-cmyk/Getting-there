<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Greenpoint Script Exercises</title>

  <style>
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: #fff;
      margin: 0;
      padding: 24px;
      line-height: 1.5;
    }

    .page { max-width: 960px; margin: 0 auto; }

    h1 { margin-top: 0; }
    h2 { margin-top: 0; font-size: 18px; }

    .section {
      border: 1px solid #e3e3e3;
      border-radius: 16px;
      padding: 18px;
      margin-bottom: 16px;
    }

    .prompt { margin-bottom: 12px; font-size: 16px; }

    input[type="text"] {
      width: 220px;
      padding: 8px 10px;
      border: 1px solid #bbb;
      border-radius: 10px;
      font-size: 15px;
    }

    button {
      padding: 10px 14px;
      font-size: 14px;
      border-radius: 10px;
      border: 1px solid #bbb;
      background: #fff;
      cursor: pointer;
      margin-top: 10px;
    }

    button:hover { background: #f6f6f6; }

    .options { display: grid; gap: 8px; }

    label { cursor: pointer; }

    .feedback {
      margin-top: 12px;
      padding: 12px;
      border-radius: 12px;
      border: 1px solid #ddd;
      display: none;
    }

    .good { border-color: #7cc47c; }
    .bad { border-color: #e07a7a; }

    .note { margin-top: 6px; font-size: 14px; opacity: 0.85; }

    /* Dialogue */
    audio { width: 100%; margin-bottom: 10px; }

    .controls { display: flex; gap: 10px; margin-bottom: 10px; }

    .hidden { display: none; }

    .dialogue {
      border: 1px solid #ddd;
      border-radius: 14px;
      padding: 14px;
    }

    .line {
      opacity: 0;
      transform: translateY(6px);
      transition: opacity 0.25s ease, transform 0.25s ease;
      margin: 6px 0;
      padding: 8px;
      border-radius: 10px;
    }

    .line.visible {
      opacity: 1;
      transform: translateY(0);
      background: #fafafa;
    }

    .speaker { font-weight: 700; }
  </style>
</head>

<body>
<div class="page">

<h1>Greenpoint Script Exercises</h1>

<!-- ================= LISTENING FIRST ================= -->

<section class="section">
  <h2>Listening</h2>
  <p class="prompt"><strong>Listen first. Do not read.</strong></p>

  <audio id="audio" controls>
    <source src="https://uploads.teachablecdn.com/attachments/0f3bc5a9809446919365dd5bcda413bc.mp3" type="audio/mpeg">
  </audio>

  <div class="controls">
    <button id="showDialogue">Show dialogue</button>
    <button id="hideDialogue" class="hidden">Hide dialogue</button>
  </div>

  <div id="dialogue" class="dialogue hidden"></div>
</section>

<!-- ================= EXERCISE 3 ================= -->

<section class="section">
  <h2>1) Best word</h2>
  <p class="prompt"><strong>What word best describes the Greenpoint neighborhood?</strong></p>

  <div class="options">
    <label><input type="radio" name="ex3" value="lively"> lively</label>
    <label><input type="radio" name="ex3" value="scene"> scene</label>
    <label><input type="radio" name="ex3" value="nightlife"> nightlife</label>
  </div>

  <button onclick="checkEx3()">Check answer</button>
  <div id="fb3" class="feedback"></div>
</section>

<!-- ================= EXERCISE 4 ================= -->

<section class="section">
  <h2>2) Meaning check</h2>
  <p class="prompt"><strong>Greenpoint is lively because…</strong></p>

  <div class="options">
    <label><input type="radio" name="ex4" value="a"> so many people live there</label>
    <label><input type="radio" name="ex4" value="b"> there’s lots of things to do for fun</label>
    <label><input type="radio" name="ex4" value="c"> it’s far away from Manhattan</label>
  </div>

  <button onclick="checkEx4()">Check answer</button>
  <div id="fb4" class="feedback"></div>
</section>

<!-- ================= EXERCISE 2 ================= -->

<section class="section">
  <h2>3) Collocation</h2>
  <p class="prompt"><strong>Find another word that collocates with <em>neighborhood</em>.</strong></p>

  <input id="collocationInput" type="text">
  <br>
  <button onclick="checkCollocation()">Check answer</button>
  <div id="fb2" class="feedback"></div>
</section>

</div>

<script>
/* Dialogue */
const dialogueLines = [
  [0, "Maria", "License plate number A647, that must be my Uber."],
  [7.7, "Ali", "Hi. Yes, I’m Ali."],
  [16.1, "Maria", "I think I’m going to Manhattan?"],
  [27, "Ali", "It must be your first time in New York."],
  [58, "Maria", "Remote?"],
  [83, "Maria", "You mean it’s a lively neighborhood."]
];

const audio = document.getElementById("audio");
const dialogue = document.getElementById("dialogue");
let enabled = false;
let shown = -1;

dialogueLines.forEach(line => {
  const div = document.createElement("div");
  div.className = "line";
  div.innerHTML = `<span class="speaker">${line[1]}:</span> ${line[2]}`;
  dialogue.appendChild(div);
});

audio.addEventListener("timeupdate", () => {
  if (!enabled) return;
  if (shown + 1 < dialogueLines.length && audio.currentTime >= dialogueLines[shown + 1][0]) {
    shown++;
    dialogue.children[shown].classList.add("visible");
  }
});

document.getElementById("showDialogue").onclick = () => {
  enabled = true;
  dialogue.classList.remove("hidden");
  document.getElementById("showDialogue").classList.add("hidden");
  document.getElementById("hideDialogue").classList.remove("hidden");
};

document.getElementById("hideDialogue").onclick = () => {
  enabled = false;
  shown = -1;
  [...dialogue.children].forEach(l => l.classList.remove("visible"));
  dialogue.classList.add("hidden");
  document.getElementById("hideDialogue").classList.add("hidden");
  document.getElementById("showDialogue").classList.remove("hidden");
};

/* Exercise 3 */
function checkEx3() {
  const sel = document.querySelector('input[name="ex3"]:checked');
  const fb = document.getElementById("fb3");
  fb.style.display = "block";

  if (sel && sel.value === "lively") {
    fb.className = "feedback good";
    fb.textContent = "✅ Correct!";
  } else {
    fb.className = "feedback bad";
    fb.innerHTML = "❌ Correct answer: <strong>lively</strong>";
  }
}

/* Exercise 4 */
function checkEx4() {
  const sel = document.querySelector('input[name="ex4"]:checked');
  const fb = document.getElementById("fb4");
  fb.style.display = "block";

  if (sel && sel.value === "b") {
    fb.className = "feedback good";
    fb.textContent = "✅ Correct!";
  } else {
    fb.className = "feedback bad";
    fb.innerHTML = "❌ Correct answer: <strong>there’s lots of things to do for fun</strong>";
  }
}

/* Exercise 2 */
function checkCollocation() {
  const v = document.getElementById("collocationInput").value.trim().toLowerCase();
  const fb = document.getElementById("fb2");
  fb.style.display = "block";

  if (v === "remote" || v === "cool") {
    fb.className = "feedback good";
    fb.innerHTML = `✅ Correct!<div class="note">${v === "remote" ? "cool" : "remote"} is also correct.</div>`;
  } else {
    fb.className = "feedback bad";
    fb.innerHTML = "❌ Acceptable answers: <strong>remote</strong>, <strong>cool</strong>";
  }
}
</script>

</body>
</html>

